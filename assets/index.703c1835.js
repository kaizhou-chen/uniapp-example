import{d as e,m as s,y as a,o as l,h as t,a as u,b as o,w as r,e as n,F as c,r as i,t as p,z as d,i as g,f as m,c as f,j as _,k as v}from"./index-1738b7d9.js";import{c as x}from"./demoApi.bc8e8080.js";import{_ as M}from"./plugin-vueexport-helper.1b428a4d.js";const j=M(e({__name:"MyGuess",setup(e,{expose:M}){const j={page:1,pageSize:10},y=s([]),h=s(!1),w=async()=>{if(!0===h.value)return void d({icon:"none",title:"没有更多数据~"});const e=await x();y.value.push(...e.result.items),j.page<e.result.pages?j.page++:h.value=!0};return a((()=>{console.log("onMounted"),w()})),M({getMore:w,resetData:()=>{j.page=1,y.value=[],h.value=!1}}),(e,s)=>{const a=g,d=m,x=_,M=v;return l(),t(c,null,[u(" 猜你喜欢 "),o(d,{class:"caption"},{default:r((()=>[o(a,{class:"text"},{default:r((()=>[n("猜你喜欢")])),_:1})])),_:1}),o(d,{class:"guess"},{default:r((()=>[(l(!0),t(c,null,i(y.value,(e=>(l(),f(M,{class:"guess-item",key:e.id,url:"/pages/goods/goods?id=4007498"},{default:r((()=>[o(x,{class:"image",mode:"aspectFill",src:e.picture},null,8,["src"]),o(d,{class:"name"},{default:r((()=>[n(p(e.name),1)])),_:2},1024),o(d,{class:"price"},{default:r((()=>[o(a,{class:"small"},{default:r((()=>[n("¥")])),_:1}),o(a,null,{default:r((()=>[n(p(e.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),o(d,{class:"loading-text"},{default:r((()=>[n(p(h.value?"没有更多数据":" 正在加载... "),1)])),_:1})],64)}}}),[["__scopeId","data-v-4e5eb6e9"]]),y=()=>{const e=s();return{guessRef:e,onScrolltolower:()=>{var s;null==(s=e.value)||s.getMore()}}};export{j as M,y as u};
