import{z as o,o as s,c as e,w as a,f as n,b as t,e as d,v as u,A as p,B as i}from"./index-1738b7d9.js";import{_ as m}from"./vk-data-goods-sku-popup.6b2fcffd.js";import{_ as l}from"./plugin-vueexport-helper.1b428a4d.js";const c=l({data:()=>({skuKey:!1,skuMode:1,goodsInfo:{}}),onLoad(o){this.init(o)},methods:{init(o={}){},openSkuPopup(){this.goodsInfo={_id:"001",name:"iphone11",goods_thumb:"https://img14.360buyimg.com/n0/jfs/t1/59022/28/10293/141808/5d78088fEf6e7862d/68836f52ffaaad96.jpg",sku_list:[{_id:"001",goods_id:"001",goods_name:"iphone11",image:"https://img14.360buyimg.com/n0/jfs/t1/79668/22/9987/159271/5d780915Ebf9bf3f4/6a1b2703a9ed8737.jpg",price:19800,sku_name_arr:["红色","128G","公开版"],stock:1e3},{_id:"002",goods_id:"001",goods_name:"iphone11",image:"https://img14.360buyimg.com/n0/jfs/t1/52252/35/10516/124064/5d7808e0E46202391/7100f3733a1c1f00.jpg",price:9800,sku_name_arr:["白色","256G","公开版"],stock:100},{_id:"003",goods_id:"001",goods_name:"iphone11",image:"https://img14.360buyimg.com/n0/jfs/t1/79668/22/9987/159271/5d780915Ebf9bf3f4/6a1b2703a9ed8737.jpg",price:19800,sku_name_arr:["红色","256G","公开版"],stock:1}],spec_list:[{name:"颜色",list:[{name:"红色"},{name:"黑色"},{name:"白色"}]},{name:"内存",list:[{name:"128G"},{name:"256G"}]},{name:"版本",list:[{name:"公开版"},{name:"非公开版"}]}]},this.skuKey=!0},onOpenSkuPopup(){console.log("监听 - 打开sku组件")},onCloseSkuPopup(){console.log("监听 - 关闭sku组件")},addCartFn(o){let{selectShop:s}=o,e={},a=s.goods_name;"默认"!=s.sku_name&&(a+="-"+s.sku_name_arr),e.msg=`${a} 已添加到购物车`,"function"==typeof o.success&&o.success(e)},addCart(o){console.log("监听 - 加入购物车"),this.addCartFn({selectShop:o,success:o=>{this.toast(o.msg),setTimeout((()=>{this.skuKey=!1}),300)}})},buyNow(o){console.log("监听 - 立即购买"),this.addCartFn({selectShop:o,success:o=>{this.toast("立即购买")}})},toast(s){o({title:s,icon:"none"})}}},[["render",function(o,l,c,g,r,f){const k=u,_=p(i("vk-data-goods-sku-popup"),m),h=n;return s(),e(h,{class:"app"},{default:a((()=>[t(k,{onClick:l[0]||(l[0]=o=>f.openSkuPopup())},{default:a((()=>[d("打开SKU组件1")])),_:1}),t(_,{ref:"skuPopup",modelValue:r.skuKey,"onUpdate:modelValue":l[1]||(l[1]=o=>r.skuKey=o),"border-radius":"20","z-index":990,localdata:r.goodsInfo,mode:r.skuMode,onOpen:f.onOpenSkuPopup,onClose:f.onCloseSkuPopup,onAddCart:f.addCart,onBuyNow:f.buyNow},null,8,["modelValue","localdata","mode","onOpen","onClose","onAddCart","onBuyNow"])])),_:1})}],["__scopeId","data-v-41144bd8"]]);export{c as default};
