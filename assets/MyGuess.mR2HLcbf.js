import{l as e,d as s,v as a,o as l,f as t,a as u,w as o,b as r,F as n,r as c,t as i,x as d,e as p,i as g,c as f,h as m,j as _}from"./index-DCPBTn-6.js";import{c as v}from"./home.DipFLsQW.js";import{_ as x}from"./plugin-vueexport-helper.DcVDw98L.js";const M=()=>{const s=e();return{guessRef:s,onScrolltolower:()=>{var e;null==(e=s.value)||e.getMore()}}},h=x(s({__name:"MyGuess",setup(s,{expose:x}){const M={page:1,pageSize:10},h=e([]),j=e(!1),w=async()=>{if(!0===j.value)return void d({icon:"none",title:"没有更多数据~"});const e=await v(M);h.value.push(...e.result.items),M.page<e.result.pages?M.page++:j.value=!0};return a((()=>{console.log("onMounted"),w()})),x({getMore:w,resetData:()=>{M.page=1,h.value=[],j.value=!1}}),(e,s)=>{const a=p,d=g,v=m,x=_;return l(),t(n,null,[u(d,{class:"caption"},{default:o((()=>[u(a,{class:"text"},{default:o((()=>[r("猜你喜欢")])),_:1})])),_:1}),u(d,{class:"guess"},{default:o((()=>[(l(!0),t(n,null,c(h.value,(e=>(l(),f(x,{class:"guess-item",key:e.id,url:`/pages/goods/goods?id=${e.id}`},{default:o((()=>[u(v,{class:"image",mode:"aspectFill",src:e.picture},null,8,["src"]),u(d,{class:"name"},{default:o((()=>[r(i(e.name),1)])),_:2},1024),u(d,{class:"price"},{default:o((()=>[u(a,{class:"small"},{default:o((()=>[r("¥")])),_:1}),u(a,null,{default:o((()=>[r(i(e.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["url"])))),128))])),_:1}),u(d,{class:"loading-text"},{default:o((()=>[r(i(j.value?"没有更多数据":" 正在加载... "),1)])),_:1})],64)}}}),[["__scopeId","data-v-14be1844"]]);export{h as M,M as u};
